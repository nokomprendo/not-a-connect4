<html>
    <head>
        <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
        <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
        <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
    </head>

    <body>

        <h2>Users</h2>
        <table id="idUsers">
            <tr> <th>user</th> <th>wins</th> <th>loses</th> <th>ties</th> </tr>
        </table>

        <script>

            function addUser(user) {
                row = document.createElement("tr");
                ["uUser","uWins","uLoses","uTies"].map(label => 
                    row.appendChild(document.createElement("td")).innerHTML = user[label])
                idUsers.appendChild(row);
            }

            fetch("users-data.json")
                .then(r => r.json())
                .then(data => data.map(addUser));

        </script>

        <h2>Results</h2>
        <div id="resultsView"></div>
        <script> vegaEmbed( '#resultsView', 'results-chart.json'); </script>

        <h2>Games</h2>
        <div id="gamesView"></div>
        <script> vegaEmbed( '#gamesView', 'games-chart.json'); </script>

        <h2>Time</h2>
        <div id="timeView"></div>
        <script> vegaEmbed( '#timeView', 'time-chart.json'); </script>

        <h2>Users</h2>
        <div id="usersView"></div>
        <script> vegaEmbed( '#usersView', 'users-chart.json'); </script>

    </body>
</html>

